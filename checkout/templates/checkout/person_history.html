{% extends 'checkout/base.html' %}
{% load humanize %}

{% block content %}

<script type="text/javascript">
$(function () {
    $( '#items' ).searchable({
        striped: true,
        oddRow: { 'background-color': '#f5f5f5' },
        evenRow: { 'background-color': '#fff' },
        searchType: 'default'
    });
    
    $( '#searchable-container' ).searchable({
        searchField: '#container-search',
        selector: '.row',
        childSelector: '.col-xs-4',
        show: function( elem ) {
            elem.slideDown(100);
        },
        hide: function( elem ) {
            elem.slideUp( 100 );
        }
    })
});
</script>

<style>
#table-scroll {  
    height: 400px;
    overflow: auto;
}â€‹
</style>

<div class="col-md-12 main">
  <div class="page-header h1">{{ person.full_name }} <small>{{ person.id_number }}</small>  <span class="h4 pull-right"><a href="{% url 'checkout.views.person_detail' pk=person.pk %}">View Details</a></span></div>
<div class="row">
<div class="col-sm-12 col-md-12">
<div class="h3">Your History</div>
    {% if history|length > 0 %}
    <div class="table-responsive">
      <table class="table table-striped table-condensed">
<thead>
      <tr>
      <th>Item</th>
      <th>Serial</th>
      <th>Category</th>
      <th>Time Out</th>
    </tr>
</thead>
<tbody>
    {% for transaction in person.history %}
      <tr>
      <td>{{ transaction.item.brand }} {{ transaction.item.model }}</td>
      <td>{{ transaction.item.serial }}</td>
      <td>{{ transaction.item.category }}</td>
      <td>{{ transaction.time_out|naturaltime }}</td>
      </tr>
    {% endfor %}
</tbody>
</table>
</div>
          {% else %}
            <span class="text-muted">No history to display.</span>
            <div class="clearfix"></div>
          {% endif %}
    </div>  <!-- col -->
  </div> <!-- row -->

</div>

{% endblock content %}
