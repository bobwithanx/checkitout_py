{% extends 'checkout/base.html' %}

{% block content %}
 
<script type="text/javascript">
$(function () {
    $( '#students' ).searchable({
        striped: true,
        oddRow: { 'background-color': '#f5f5f5' },
        evenRow: { 'background-color': '#fff' },
        searchType: 'fuzzy'
    });
    
    $( '#searchable-container' ).searchable({
        searchField: '#container-search',
        selector: '.row',
        childSelector: '.col-xs-4',
        show: function( elem ) {
            elem.slideDown(100);
        },
        hide: function( elem ) {
            elem.slideUp( 100 );
        }
    })
});
</script>

<style>
.row-padding {
    margin-top: 25px;
    margin-bottom: 25px;
}
</style>

  <div class="col-sm-5 col-md-6 main">
          <h1 class="page-header">Students</h1>
    <div class="row">
        <div class="col-lg-6">
	  <form action="{% url 'checkout.views.person_search' %}" method="POST">
	    {% csrf_token %}
            <input autofocus="true" text="search" name="person" id="search" value="" class="form-control" placeholder="Search"/>
	  </form>
        </div>
    </div>
          <div class="table-responsive">
            <table id="students" class="table table-striped">
<thead>
      <tr>
      <th>Name</th>
      <th>ID #</th>
      <th>Group</th>
      <th>Inventory</th>
    </tr>
</thead>
    {% for person in people %}
      {% if person.inventory|length > 0 %}
        <tr class="warning">
      {% else %}
        <tr> 
      {% endif %}
            <td>
                <a href="{% url 'checkout.views.person_detail' pk=person.pk %}">
                {{ person.full_name }}
                </a>
            </td>
            <td>
              {{ person.id_number }}
            </td>
            <td>
              {{ person.group.name }}
            </td>
            <td>
                {% if person.inventory|length > 0 %}
                <span class="badge badge-info">{{ person.inventory|length }}</span>
                {% endif %}
            </td>
          </tr>
      {% endfor %}
     </table>
</div>
</div>
</div>
</div>
{% endblock content %}
