{% load staticfiles %}

<style>
.product-image {
max-width:200px;
height:auto;
}

.history-list {
    height: 150px;
    overflow: scroll;
}
</style>
		<link rel="stylesheet" href="{% static 'css/font-awesome.css' %}">


<body>
  <div class="modal-header">
    <div class="row">
      <div class="col-md-5">
       {% if item.image_name %}
          <img src="{% if item.image_name and item.image_name.strip %}{% static 'images/'|add:item.image_name %}{% else %}{% static 'images/'|add:item.category.icon %}{% endif %}" class="img-responsive product-image"/>
       {% else %}
           <i class="fa fa-fw fa-4x fa-{{ item.category.icon }}"></i>
       {% endif %}
      </div>
      <div class="col-md-7">
        <h2 class="modal-title">{{ item.display_name }}</h2>
        <div class="h4 text-muted"><i class="fa fa-fw fa-{{ item.category.icon }}"></i> {{ item.category }}</div>
        <div class="h4 text-muted"><i class="fa fa-fw fa-tag"></i> {{ item.inventory_tag }}</div>
        {% if item.serial|length > 0 %}
          <div class="h4 text-muted">Serial #{{ item.serial }}</div>
        {% endif %}
      </div>
    </div>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-12">
        <div class="h4">Item History</div>
          {% if history|length > 0 %}
          <div class="table-responsive history-list">
            <table class="table table-striped table-condensed">
              <thead>
                <tr>
                  <th>Person</th>
                  <th>Time Out</th>
                  <th>Time In</th>
                </tr>
              </thead>
              <tbody>
              {% for transaction in item.history reversed %}
                <tr>
                <td>{{ transaction.person }}</td>
                <td>{{ transaction.time_out }}</td>
                <td>{{ transaction.time_in }}</td>
                </tr>
              {% endfor %}
              </tbody>
            </table>
          </div>
          {% else %}
            <span class="text-muted">No history to display.</span>
            <div class="clearfix"></div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
  {% if not item.is_available = "available" %}
      <button type="button" class="btn btn-primary" data-dismiss="modal">Check In</button>
  {% endif %}
      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
  </div>
  
</body>